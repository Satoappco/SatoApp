<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title id="head-title">test-report.html</title>
      <style type="text/css">body {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 12px;
  /* do not increase min-width as some may use split screens */
  min-width: 800px;
  color: #999;
}

h1 {
  font-size: 24px;
  color: black;
}

h2 {
  font-size: 16px;
  color: black;
}

p {
  color: black;
}

a {
  color: #999;
}

table {
  border-collapse: collapse;
}

/******************************
 * SUMMARY INFORMATION
 ******************************/
#environment td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  vertical-align: top;
}
#environment tr:nth-child(odd) {
  background-color: #f6f6f6;
}
#environment ul {
  margin: 0;
  padding: 0 20px;
}

/******************************
 * TEST RESULT COLORS
 ******************************/
span.passed,
.passed .col-result {
  color: green;
}

span.skipped,
span.xfailed,
span.rerun,
.skipped .col-result,
.xfailed .col-result,
.rerun .col-result {
  color: orange;
}

span.error,
span.failed,
span.xpassed,
.error .col-result,
.failed .col-result,
.xpassed .col-result {
  color: red;
}

.col-links__extra {
  margin-right: 3px;
}

/******************************
 * RESULTS TABLE
 *
 * 1. Table Layout
 * 2. Extra
 * 3. Sorting items
 *
 ******************************/
/*------------------
 * 1. Table Layout
 *------------------*/
#results-table {
  border: 1px solid #e6e6e6;
  color: #999;
  font-size: 12px;
  width: 100%;
}
#results-table th,
#results-table td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  text-align: left;
}
#results-table th {
  font-weight: bold;
}

/*------------------
 * 2. Extra
 *------------------*/
.logwrapper {
  max-height: 230px;
  overflow-y: scroll;
  background-color: #e6e6e6;
}
.logwrapper.expanded {
  max-height: none;
}
.logwrapper.expanded .logexpander:after {
  content: "collapse [-]";
}
.logwrapper .logexpander {
  z-index: 1;
  position: sticky;
  top: 10px;
  width: max-content;
  border: 1px solid;
  border-radius: 3px;
  padding: 5px 7px;
  margin: 10px 0 10px calc(100% - 80px);
  cursor: pointer;
  background-color: #e6e6e6;
}
.logwrapper .logexpander:after {
  content: "expand [+]";
}
.logwrapper .logexpander:hover {
  color: #000;
  border-color: #000;
}
.logwrapper .log {
  min-height: 40px;
  position: relative;
  top: -50px;
  height: calc(100% + 50px);
  border: 1px solid #e6e6e6;
  color: black;
  display: block;
  font-family: "Courier New", Courier, monospace;
  padding: 5px;
  padding-right: 80px;
  white-space: pre-wrap;
}

div.media {
  border: 1px solid #e6e6e6;
  float: right;
  height: 240px;
  margin: 0 5px;
  overflow: hidden;
  width: 320px;
}

.media-container {
  display: grid;
  grid-template-columns: 25px auto 25px;
  align-items: center;
  flex: 1 1;
  overflow: hidden;
  height: 200px;
}

.media-container--fullscreen {
  grid-template-columns: 0px auto 0px;
}

.media-container__nav--right,
.media-container__nav--left {
  text-align: center;
  cursor: pointer;
}

.media-container__viewport {
  cursor: pointer;
  text-align: center;
  height: inherit;
}
.media-container__viewport img,
.media-container__viewport video {
  object-fit: cover;
  width: 100%;
  max-height: 100%;
}

.media__name,
.media__counter {
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  flex: 0 0 25px;
  align-items: center;
}

.collapsible td:not(.col-links) {
  cursor: pointer;
}
.collapsible td:not(.col-links):hover::after {
  color: #bbb;
  font-style: italic;
  cursor: pointer;
}

.col-result {
  width: 130px;
}
.col-result:hover::after {
  content: " (hide details)";
}

.col-result.collapsed:hover::after {
  content: " (show details)";
}

#environment-header h2:hover::after {
  content: " (hide details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

#environment-header.collapsed h2:hover::after {
  content: " (show details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

/*------------------
 * 3. Sorting items
 *------------------*/
.sortable {
  cursor: pointer;
}
.sortable.desc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: -12.5px;
  border: 10px solid #4caf50;
  border-bottom: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}
.sortable.asc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: 12.5px;
  border: 10px solid #4caf50;
  border-top: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}

.hidden, .summary__reload__button.hidden {
  display: none;
}

.summary__data {
  flex: 0 0 550px;
}
.summary__reload {
  flex: 1 1;
  display: flex;
  justify-content: center;
}
.summary__reload__button {
  flex: 0 0 300px;
  display: flex;
  color: white;
  font-weight: bold;
  background-color: #4caf50;
  text-align: center;
  justify-content: center;
  align-items: center;
  border-radius: 3px;
  cursor: pointer;
}
.summary__reload__button:hover {
  background-color: #46a049;
}
.summary__spacer {
  flex: 0 0 550px;
}

.controls {
  display: flex;
  justify-content: space-between;
}

.filters,
.collapse {
  display: flex;
  align-items: center;
}
.filters button,
.collapse button {
  color: #999;
  border: none;
  background: none;
  cursor: pointer;
  text-decoration: underline;
}
.filters button:hover,
.collapse button:hover {
  color: #ccc;
}

.filter__label {
  margin-right: 10px;
}

      </style>
    
  </head>
  <body>
    <h1 id="title">test-report.html</h1>
    <p>Report generated on 30-Nov-2025 at 19:46:03 by <a href="https://pypi.python.org/pypi/pytest-html">pytest-html</a>
        v4.1.1</p>
    <div id="environment-header">
      <h2>Environment</h2>
    </div>
    <table id="environment"></table>
    <!-- TEMPLATES -->
      <template id="template_environment_row">
      <tr>
        <td></td>
        <td></td>
      </tr>
    </template>
    <template id="template_results-table__body--empty">
      <tbody class="results-table-row">
        <tr id="not-found-message">
          <td colspan="4">No results found. Check the filters.</th>
        </tr>
    </template>
    <template id="template_results-table__tbody">
      <tbody class="results-table-row">
        <tr class="collapsible">
        </tr>
        <tr class="extras-row">
          <td class="extra" colspan="4">
            <div class="extraHTML"></div>
            <div class="media">
              <div class="media-container">
                  <div class="media-container__nav--left"><</div>
                  <div class="media-container__viewport">
                    <img src="" />
                    <video controls>
                      <source src="" type="video/mp4">
                    </video>
                  </div>
                  <div class="media-container__nav--right">></div>
                </div>
                <div class="media__name"></div>
                <div class="media__counter"></div>
            </div>
            <div class="logwrapper">
              <div class="logexpander"></div>
              <div class="log"></div>
            </div>
          </td>
        </tr>
      </tbody>
    </template>
    <!-- END TEMPLATES -->
    <div class="summary">
      <div class="summary__data">
        <h2>Summary</h2>
        <div class="additional-summary prefix">
        </div>
        <p class="run-count">172 tests took 00:00:12.</p>
        <p class="filter">(Un)check the boxes to filter the results.</p>
        <div class="summary__reload">
          <div class="summary__reload__button hidden" onclick="location.reload()">
            <div>There are still tests running. <br />Reload this page to get the latest results!</div>
          </div>
        </div>
        <div class="summary__spacer"></div>
        <div class="controls">
          <div class="filters">
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="failed" />
            <span class="failed">27 Failed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="passed" />
            <span class="passed">145 Passed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="skipped" />
            <span class="skipped">4 Skipped,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xfailed" disabled/>
            <span class="xfailed">0 Expected failures,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xpassed" disabled/>
            <span class="xpassed">0 Unexpected passes,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="error" disabled/>
            <span class="error">0 Errors,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="rerun" disabled/>
            <span class="rerun">0 Reruns</span>
          </div>
          <div class="collapse">
            <button id="show_all_details">Show all details</button>&nbsp;/&nbsp;<button id="hide_all_details">Hide all details</button>
          </div>
        </div>
      </div>
      <div class="additional-summary summary">
      </div>
      <div class="additional-summary postfix">
      </div>
    </div>
    <table id="results-table">
      <thead id="results-table-head">
        <tr>
          <th class="sortable" data-column-type="result">Result</th>
          <th class="sortable" data-column-type="testId">Test</th>
          <th class="sortable" data-column-type="duration">Duration</th>
          <th>Links</th>
        </tr>
      </thead>
    </table>
  </body>
  <footer>
    <div id="data-container" data-jsonblob="{&#34;environment&#34;: {&#34;Python&#34;: &#34;3.12.3&#34;, &#34;Platform&#34;: &#34;Linux-6.8.0-87-generic-x86_64-with-glibc2.39&#34;, &#34;Packages&#34;: {&#34;pytest&#34;: &#34;8.3.4&#34;, &#34;pluggy&#34;: &#34;1.6.0&#34;}, &#34;Plugins&#34;: {&#34;xdist&#34;: &#34;3.8.0&#34;, &#34;anyio&#34;: &#34;4.11.0&#34;, &#34;asyncio&#34;: &#34;0.25.2&#34;, &#34;metadata&#34;: &#34;3.1.1&#34;, &#34;mock&#34;: &#34;3.14.0&#34;, &#34;html&#34;: &#34;4.1.1&#34;, &#34;cov&#34;: &#34;6.0.0&#34;, &#34;Faker&#34;: &#34;38.0.0&#34;, &#34;langsmith&#34;: &#34;0.4.37&#34;}}, &#34;tests&#34;: {&#34;tests/e2e/test_chat_trace_service.py::test_create_conversation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_create_conversation&#34;, &#34;duration&#34;: &#34;116 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_create_conversation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;116 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Created conversation: thread_id=test_thread_1, id=1\n\n------------------------------ Captured log call -------------------------------\nINFO     app.config.langfuse_config:langfuse_config.py:135 \u2705 Langfuse initialized successfully (host: https://cloud.langfuse.com)\n\n&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_create_conversation_idempotent&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_create_conversation_idempotent&#34;, &#34;duration&#34;: &#34;240 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_create_conversation_idempotent&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;240 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Created conversation: thread_id=test_thread_2, id=1\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace 0e5cf5e6-5611-488d-82e2-530a2b0cf7ac not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\n------------------------------ Captured log call -------------------------------\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\n\n&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_add_message&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_add_message&#34;, &#34;duration&#34;: &#34;517 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_add_message&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;517 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Created conversation: thread_id=test_thread_3, id=1\n\u2705 Added message: thread_id=test_thread_3, role=user, id=2\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace 10d5999c-edd1-4556-8fd2-120182bf7ae9 not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\u2705 Added message: thread_id=test_thread_3, role=assistant, id=3\n\n------------------------------ Captured log call -------------------------------\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\n\n&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_add_agent_step&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_add_agent_step&#34;, &#34;duration&#34;: &#34;244 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_add_agent_step&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;244 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Created conversation: thread_id=test_thread_4, id=1\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace 754d603b-68c7-4005-a116-34999eb721a1 not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\u2705 Added agent step: thread_id=test_thread_4, type=thought, id=2\n\n------------------------------ Captured log call -------------------------------\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\n\n&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_add_tool_usage&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_add_tool_usage&#34;, &#34;duration&#34;: &#34;719 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_add_tool_usage&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;719 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Created conversation: thread_id=test_thread_5, id=1\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace 508ddf89-9c40-46b4-a588-0ae271f6f9e0 not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\u2705 Added tool usage: thread_id=test_thread_5, tool=search_database, id=2\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace 508ddf89-9c40-46b4-a588-0ae271f6f9e0 not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\u2705 Added tool usage: thread_id=test_thread_5, tool=api_call, id=3\n\n------------------------------ Captured log call -------------------------------\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\n\n&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_update_intent&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_update_intent&#34;, &#34;duration&#34;: &#34;65 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_update_intent&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;65 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Created conversation: thread_id=test_thread_6, id=1\n&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_complete_conversation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_complete_conversation&#34;, &#34;duration&#34;: &#34;449 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_complete_conversation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;449 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Created conversation: thread_id=test_thread_7, id=1\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace ce7e15c1-7c0b-4e22-88b2-8ac8e13ef82c not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\u2705 Completed conversation: thread_id=test_thread_7, status=completed\n\n------------------------------ Captured log call -------------------------------\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\n\n&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_get_conversation_history&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_get_conversation_history&#34;, &#34;duration&#34;: &#34;689 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_get_conversation_history&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;689 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Created conversation: thread_id=test_thread_8, id=1\n\u2705 Added message: thread_id=test_thread_8, role=user, id=2\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace b52c70e5-8227-4b9f-b316-ce9642c5d286 not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\u2705 Added message: thread_id=test_thread_8, role=assistant, id=3\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace b52c70e5-8227-4b9f-b316-ce9642c5d286 not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\u2705 Added agent step: thread_id=test_thread_8, type=thought, id=4\n\u26a0\ufe0f Failed to get Langfuse trace: status_code: 404, body: {&amp;#x27;message&amp;#x27;: &amp;#x27;Trace b52c70e5-8227-4b9f-b316-ce9642c5d286 not found within authorized project&amp;#x27;, &amp;#x27;error&amp;#x27;: &amp;#x27;LangfuseNotFoundError&amp;#x27;}\n\u2705 Added tool usage: thread_id=test_thread_8, tool=search, id=5\n\n------------------------------ Captured log call -------------------------------\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\nERROR    langfuse:parse_error.py:74 Internal error occurred. This is an unusual occurrence and we are monitoring it closely. For help, please contact support: https://langfuse.com/support.\n\n&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_get_conversation_history_not_found&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_get_conversation_history_not_found&#34;, &#34;duration&#34;: &#34;14 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_get_conversation_history_not_found&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;14 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/e2e/test_chat_trace_service.py::test_add_message_to_nonexistent_conversation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_chat_trace_service.py::test_add_message_to_nonexistent_conversation&#34;, &#34;duration&#34;: &#34;15 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_chat_trace_service.py::test_add_message_to_nonexistent_conversation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;15 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u26a0\ufe0f Conversation not found: nonexistent_thread\n&#34;}], &#34;tests/e2e/test_facebook_tools_simple.py::test_facebook_connections&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_facebook_tools_simple.py::test_facebook_connections&#34;, &#34;duration&#34;: &#34;3 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_facebook_tools_simple.py::test_facebook_connections&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;3 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\ud83d\udd0d Testing Facebook connections...\n\u274c Database connection test failed: (sqlite3.OperationalError) no such table: connections\n[SQL: SELECT connections.id, connections.created_at, connections.updated_at, connections.digital_asset_id, connections.customer_id, connections.campaigner_id, connections.auth_type, connections.account_email, connections.scopes, connections.access_token_enc, connections.refresh_token_enc, connections.token_hash, connections.expires_at, connections.revoked, connections.rotated_at, connections.last_used_at, connections.needs_reauth, connections.last_validated_at, digital_assets.id AS id_1, digital_assets.created_at AS created_at_1, digital_assets.updated_at AS updated_at_1, digital_assets.customer_id AS customer_id_1, digital_assets.asset_type, digital_assets.provider, digital_assets.name, digital_assets.handle, digital_assets.url, digital_assets.external_id, digital_assets.meta, digital_assets.is_active \nFROM connections JOIN digital_assets ON connections.digital_asset_id = digital_assets.id \nWHERE digital_assets.provider = ? AND digital_assets.asset_type = ? AND connections.revoked = 0]\n[parameters: (&amp;#x27;Facebook&amp;#x27;, &amp;#x27;SOCIAL_MEDIA&amp;#x27;)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n&#34;}], &#34;tests/e2e/test_facebook_tools_simple.py::test_tool_imports&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_facebook_tools_simple.py::test_tool_imports&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_facebook_tools_simple.py::test_tool_imports&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\ud83d\udd27 Testing tool imports...\n  \u2705 FacebookAnalyticsTool imported successfully\n  \u2705 FacebookAdsTool imported successfully\n  \u274c Failed to import FacebookMarketingTool: No module named &amp;#x27;app.tools.facebook_marketing_tool&amp;#x27;\n&#34;}], &#34;tests/e2e/test_facebook_tools_simple.py::test_facebook_service&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_facebook_tools_simple.py::test_facebook_service&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_facebook_tools_simple.py::test_facebook_service&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\ud83d\udd27 Testing Facebook service...\n  \u2705 FacebookService imported and instantiated successfully\n  \ud83d\udce1 API Version: v18.0\n  \ud83d\udd10 Scopes: 12 permissions\n&#34;}], &#34;tests/e2e/test_facebook_tools_simple.py::test_webhook_tool_mapping&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_facebook_tools_simple.py::test_webhook_tool_mapping&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_facebook_tools_simple.py::test_webhook_tool_mapping&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\ud83d\udd27 Testing webhook tool mapping...\n  \u274c FacebookAnalyticsTool NOT found in webhook mapping\n  \u274c FacebookAdsTool NOT found in webhook mapping\n  \u274c FacebookMarketingTool NOT found in webhook mapping\n&#34;}], &#34;tests/e2e/test_file_logging_system.py::test_get_recent_logs&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_file_logging_system.py::test_get_recent_logs&#34;, &#34;duration&#34;: &#34;113 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_file_logging_system.py::test_get_recent_logs&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;113 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Retrieved 11 recent log lines\n&#34;}], &#34;tests/e2e/test_file_logging_system.py::test_search_logs&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_file_logging_system.py::test_search_logs&#34;, &#34;duration&#34;: &#34;118 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_file_logging_system.py::test_search_logs&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;118 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Found 4 matching log lines\n&#34;}], &#34;tests/e2e/test_file_logging_system.py::test_get_logs_by_level&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_file_logging_system.py::test_get_logs_by_level&#34;, &#34;duration&#34;: &#34;436 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_file_logging_system.py::test_get_logs_by_level&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;436 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Retrieved 32 DEBUG log lines\n\u2705 Retrieved 7 INFO log lines\n\u2705 Retrieved 0 WARNING log lines\n\u2705 Retrieved 5 ERROR log lines\n&#34;}], &#34;tests/e2e/test_file_logging_system.py::test_get_log_stats&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_file_logging_system.py::test_get_log_stats&#34;, &#34;duration&#34;: &#34;102 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_file_logging_system.py::test_get_log_stats&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;102 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Log stats: 1 file(s), 0.01MB\n&#34;}], &#34;tests/e2e/test_file_logging_system.py::test_tail_logs&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_file_logging_system.py::test_tail_logs&#34;, &#34;duration&#34;: &#34;101 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_file_logging_system.py::test_tail_logs&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;101 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Tailed 21 log lines\n&#34;}], &#34;tests/e2e/test_file_logging_system.py::test_get_logs_by_timerange&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_file_logging_system.py::test_get_logs_by_timerange&#34;, &#34;duration&#34;: &#34;111 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_file_logging_system.py::test_get_logs_by_timerange&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;111 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Retrieved 54 log lines from last hour\n&#34;}], &#34;tests/e2e/test_file_logging_system.py::test_authentication_required&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_file_logging_system.py::test_authentication_required&#34;, &#34;duration&#34;: &#34;247 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_file_logging_system.py::test_authentication_required&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;247 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Authentication is properly enforced\n&#34;}], &#34;tests/e2e/test_file_logging_system.py::test_validation_errors&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_file_logging_system.py::test_validation_errors&#34;, &#34;duration&#34;: &#34;201 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_file_logging_system.py::test_validation_errors&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;201 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\u2705 Input validation is working correctly\n&#34;}], &#34;tests/e2e/test_mcp_debug_logging.py::test_mcp_call_logging&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_mcp_debug_logging.py::test_mcp_call_logging&#34;, &#34;duration&#34;: &#34;3 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_mcp_debug_logging.py::test_mcp_call_logging&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;3 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.mcp_clients.base:base.py:103 \n================================================================================\nINFO     app.core.agents.mcp_clients.base:base.py:104 \ud83d\udd27 [MCP CALL] Tool: test_tool\nINFO     app.core.agents.mcp_clients.base:base.py:105 \ud83d\udce6 [MCP CALL] Client: MockMCPClient\nINFO     app.core.agents.mcp_clients.base:base.py:106 \ud83d\udccb [MCP CALL] Arguments:\nINFO     app.core.agents.mcp_clients.base:base.py:108    - param1: value1\nINFO     app.core.agents.mcp_clients.base:base.py:108    - param2: 123\nINFO     app.core.agents.mcp_clients.base:base.py:109 ================================================================================\n\nINFO     app.core.agents.mcp_clients.base:base.py:124 \n================================================================================\nINFO     app.core.agents.mcp_clients.base:base.py:125 \u2705 [MCP RESPONSE] Tool: test_tool\nINFO     app.core.agents.mcp_clients.base:base.py:126 \u23f1\ufe0f  [MCP RESPONSE] Duration: 0.04ms\nINFO     app.core.agents.mcp_clients.base:base.py:127 \ud83d\udcca [MCP RESPONSE] Result type: Mock\nINFO     app.core.agents.mcp_clients.base:base.py:131 \ud83d\udcc4 [MCP RESPONSE] Content:\nINFO     app.core.agents.mcp_clients.base:base.py:134    [0] Type: Mock\nINFO     app.core.agents.mcp_clients.base:base.py:141    [0] Text: Test response content\nINFO     app.core.agents.mcp_clients.base:base.py:153 ================================================================================\n\n&#34;}], &#34;tests/e2e/test_mcp_debug_logging.py::test_mcp_error_logging&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_mcp_debug_logging.py::test_mcp_error_logging&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_mcp_debug_logging.py::test_mcp_error_logging&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nERROR    app.core.agents.mcp_clients.base:base.py:167 \n================================================================================\nERROR    app.core.agents.mcp_clients.base:base.py:168 \u274c [MCP ERROR] Tool: failing_tool\nERROR    app.core.agents.mcp_clients.base:base.py:169 \u23f1\ufe0f  [MCP ERROR] Duration: 0.02ms\nERROR    app.core.agents.mcp_clients.base:base.py:170 \ud83d\udeab [MCP ERROR] Error type: ValueError\nERROR    app.core.agents.mcp_clients.base:base.py:171 \ud83d\udcac [MCP ERROR] Error message: Test error message\nERROR    app.core.agents.mcp_clients.base:base.py:172 ================================================================================\n\n&#34;}], &#34;tests/e2e/test_mcp_debug_logging.py::test_mcp_sensitive_data_redaction&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_mcp_debug_logging.py::test_mcp_sensitive_data_redaction&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_mcp_debug_logging.py::test_mcp_sensitive_data_redaction&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.mcp_clients.base:base.py:103 \n================================================================================\nINFO     app.core.agents.mcp_clients.base:base.py:104 \ud83d\udd27 [MCP CALL] Tool: test_tool\nINFO     app.core.agents.mcp_clients.base:base.py:105 \ud83d\udce6 [MCP CALL] Client: MockMCPClient\nINFO     app.core.agents.mcp_clients.base:base.py:106 \ud83d\udccb [MCP CALL] Arguments:\nINFO     app.core.agents.mcp_clients.base:base.py:108    - access_token: ***REDACTED***\nINFO     app.core.agents.mcp_clients.base:base.py:108    - api_key: ***REDACTED***\nINFO     app.core.agents.mcp_clients.base:base.py:108    - normal_param: normal_value\nINFO     app.core.agents.mcp_clients.base:base.py:109 ================================================================================\n\nINFO     app.core.agents.mcp_clients.base:base.py:124 \n================================================================================\nINFO     app.core.agents.mcp_clients.base:base.py:125 \u2705 [MCP RESPONSE] Tool: test_tool\nINFO     app.core.agents.mcp_clients.base:base.py:126 \u23f1\ufe0f  [MCP RESPONSE] Duration: 0.02ms\nINFO     app.core.agents.mcp_clients.base:base.py:127 \ud83d\udcca [MCP RESPONSE] Result type: Mock\nINFO     app.core.agents.mcp_clients.base:base.py:131 \ud83d\udcc4 [MCP RESPONSE] Content:\nINFO     app.core.agents.mcp_clients.base:base.py:134    [0] Type: Mock\nINFO     app.core.agents.mcp_clients.base:base.py:141    [0] Text: Response\nINFO     app.core.agents.mcp_clients.base:base.py:153 ================================================================================\n\n&#34;}], &#34;tests/e2e/test_mcp_debug_logging.py::test_mcp_long_content_truncation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_mcp_debug_logging.py::test_mcp_long_content_truncation&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_mcp_debug_logging.py::test_mcp_long_content_truncation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.mcp_clients.base:base.py:103 \n================================================================================\nINFO     app.core.agents.mcp_clients.base:base.py:104 \ud83d\udd27 [MCP CALL] Tool: test_tool\nINFO     app.core.agents.mcp_clients.base:base.py:105 \ud83d\udce6 [MCP CALL] Client: MockMCPClient\nINFO     app.core.agents.mcp_clients.base:base.py:106 \ud83d\udccb [MCP CALL] Arguments:\nINFO     app.core.agents.mcp_clients.base:base.py:108    - param: value\nINFO     app.core.agents.mcp_clients.base:base.py:109 ================================================================================\n\nINFO     app.core.agents.mcp_clients.base:base.py:124 \n================================================================================\nINFO     app.core.agents.mcp_clients.base:base.py:125 \u2705 [MCP RESPONSE] Tool: test_tool\nINFO     app.core.agents.mcp_clients.base:base.py:126 \u23f1\ufe0f  [MCP RESPONSE] Duration: 0.02ms\nINFO     app.core.agents.mcp_clients.base:base.py:127 \ud83d\udcca [MCP RESPONSE] Result type: Mock\nINFO     app.core.agents.mcp_clients.base:base.py:131 \ud83d\udcc4 [MCP RESPONSE] Content:\nINFO     app.core.agents.mcp_clients.base:base.py:134    [0] Type: Mock\nINFO     app.core.agents.mcp_clients.base:base.py:139    [0] Text (first 500 chars): AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA...\nINFO     app.core.agents.mcp_clients.base:base.py:153 ================================================================================\n\n&#34;}], &#34;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_without_event_loop&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_without_event_loop&#34;, &#34;duration&#34;: &#34;7 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_without_event_loop&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;7 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_with_running_event_loop&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_with_running_event_loop&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_with_running_event_loop&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_in_async_function&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_in_async_function&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_single_agent_event_loop.py::TestSingleAnalyticsAgentEventLoop::test_execute_in_async_function&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_tool_call_logging&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_tool_call_logging&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_tool_call_logging&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_tool_error_logging&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_tool_error_logging&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_tool_error_logging&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_sensitive_data_redaction&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_sensitive_data_redaction&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_sensitive_data_redaction&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_type_coercion_with_logging&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_type_coercion_with_logging&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_type_coercion_with_logging&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_long_content_truncation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_long_content_truncation&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/e2e/test_single_analytics_agent_logging.py::test_single_analytics_agent_long_content_truncation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/integration/test_async_webhook.py::test_async_webhook&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_async_webhook.py::test_async_webhook&#34;, &#34;duration&#34;: &#34;94 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_async_webhook.py::test_async_webhook&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;94 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\ud83e\uddea Testing Async DialogCX Webhook\n==================================================\n\ud83d\udce4 Sending payload to: https://sato-backend-397762748853.me-west1.run.app/api/v1/webhooks/dialogcx\n\ud83d\udccb Payload: {\n  &amp;quot;user_id&amp;quot;: 5,\n  &amp;quot;customer_id&amp;quot;: 5,\n  &amp;quot;session_ID&amp;quot;: &amp;quot;test_session_1764524749&amp;quot;,\n  &amp;quot;user_question&amp;quot;: &amp;quot;Show me analytics for the last 7 days&amp;quot;,\n  &amp;quot;user_intent&amp;quot;: &amp;quot;analytics_request&amp;quot;,\n  &amp;quot;parameters&amp;quot;: {\n    &amp;quot;user_id&amp;quot;: 5,\n    &amp;quot;customer_id&amp;quot;: 5,\n    &amp;quot;user_name&amp;quot;: &amp;quot;Test User&amp;quot;,\n    &amp;quot;user_email&amp;quot;: &amp;quot;test@satoapp.com&amp;quot;\n  },\n  &amp;quot;data_sources&amp;quot;: [\n    &amp;quot;ga4&amp;quot;\n  ],\n  &amp;quot;user_info&amp;quot;: {\n    &amp;quot;name&amp;quot;: &amp;quot;Test User&amp;quot;,\n    &amp;quot;email&amp;quot;: &amp;quot;test@satoapp.com&amp;quot;\n  }\n}\n\n\u23f1\ufe0f  Response time: 0.09 seconds\n\ud83d\udcca Status code: 500\n\n\u274c ERROR - Unexpected response:\nStatus: 500\nResponse: \n&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;\n&amp;lt;meta http-equiv=&amp;quot;content-type&amp;quot; content=&amp;quot;text/html;charset=utf-8&amp;quot;&amp;gt;\n&amp;lt;title&amp;gt;500 Server Error&amp;lt;/title&amp;gt;\n&amp;lt;/head&amp;gt;\n&amp;lt;body text=#000000 bgcolor=#ffffff&amp;gt;\n&amp;lt;h1&amp;gt;Error: Server Error&amp;lt;/h1&amp;gt;\n&amp;lt;h2&amp;gt;The server encountered an error and could not complete your request.&amp;lt;p&amp;gt;Please try again in 30 seconds.&amp;lt;/h2&amp;gt;\n&amp;lt;h2&amp;gt;&amp;lt;/h2&amp;gt;\n&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;\n\n&#34;}], &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_placeholder_uses_credential_manager&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_placeholder_uses_credential_manager&#34;, &#34;duration&#34;: &#34;58 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_placeholder_uses_credential_manager&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;58 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nWARNING  google_genai._api_client:_api_client.py:105 Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.\n\n&#34;}], &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_analytics_agent_uses_credential_manager&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_analytics_agent_uses_credential_manager&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_analytics_agent_uses_credential_manager&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_fetch_platforms_delegates_to_manager&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_fetch_platforms_delegates_to_manager&#34;, &#34;duration&#34;: &#34;59 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_fetch_platforms_delegates_to_manager&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;59 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nWARNING  google_genai._api_client:_api_client.py:105 Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.\nINFO     app.core.agents.customer_credentials:customer_credentials.py:60 \ud83d\udcca [CredentialManager] Customer 4 platforms: []\n\n&#34;}], &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_agent_fetch_platforms_delegates_to_manager&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_agent_fetch_platforms_delegates_to_manager&#34;, &#34;duration&#34;: &#34;7 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_agent_fetch_platforms_delegates_to_manager&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;7 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.customer_credentials:customer_credentials.py:60 \ud83d\udcca [CredentialManager] Customer 4 platforms: []\n\n&#34;}], &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_fetch_ga_token_delegates_to_manager&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_fetch_ga_token_delegates_to_manager&#34;, &#34;duration&#34;: &#34;57 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_analytics_crew_fetch_ga_token_delegates_to_manager&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;57 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nWARNING  google_genai._api_client:_api_client.py:105 Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.\nWARNING  app.core.agents.customer_credentials:customer_credentials.py:90 \u26a0\ufe0f  [CredentialManager] No GA4 asset found for customer 4\n\n&#34;}], &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_agent_fetch_ga_token_delegates_to_manager&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_agent_fetch_ga_token_delegates_to_manager&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_single_agent_fetch_ga_token_delegates_to_manager&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nWARNING  app.core.agents.customer_credentials:customer_credentials.py:90 \u26a0\ufe0f  [CredentialManager] No GA4 asset found for customer 4\n\n&#34;}], &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_both_agents_share_same_credential_logic&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_both_agents_share_same_credential_logic&#34;, &#34;duration&#34;: &#34;61 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_credential_manager_integration.py::TestCredentialManagerIntegration::test_both_agents_share_same_credential_logic&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;61 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nWARNING  google_genai._api_client:_api_client.py:105 Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.\n\n&#34;}], &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_agency_crud_operations&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_agency_crud_operations&#34;, &#34;duration&#34;: &#34;108 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_agency_crud_operations&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;108 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_campaigner_crud_operations&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_campaigner_crud_operations&#34;, &#34;duration&#34;: &#34;108 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_campaigner_crud_operations&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;108 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_customer_crud_operations&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_customer_crud_operations&#34;, &#34;duration&#34;: &#34;101 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_customer_crud_operations&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;101 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_agent_config_operations&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_agent_config_operations&#34;, &#34;duration&#34;: &#34;300 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_agent_config_operations&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;300 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_chat_trace_operations&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_chat_trace_operations&#34;, &#34;duration&#34;: &#34;152 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_chat_trace_operations&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;152 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_customer_data_tables&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_customer_data_tables&#34;, &#34;duration&#34;: &#34;99 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_customer_data_tables&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;99 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_complex_queries&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_complex_queries&#34;, &#34;duration&#34;: &#34;104 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_complex_queries&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;104 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_transaction_rollback&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_transaction_rollback&#34;, &#34;duration&#34;: &#34;105 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_database_integration.py::TestDatabaseIntegration::test_transaction_rollback&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;105 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_facebook_oauth_flow.py::test_facebook_oauth_flow&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_facebook_oauth_flow.py::test_facebook_oauth_flow&#34;, &#34;duration&#34;: &#34;00:00:01&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_facebook_oauth_flow.py::test_facebook_oauth_flow&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:01&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\ud83d\udd0d Testing Facebook OAuth Flow - What Tokens Do We Actually Get?\n======================================================================\n\u2705 Facebook App ID: 10013326125457266\n\u2705 Facebook App Secret: ********************************\n\n\ud83d\udd0d Step 1: Testing Initial Token Exchange\n--------------------------------------------------\nInitial Token Exchange Status: 400\nResponse: {&amp;quot;error&amp;quot;:{&amp;quot;message&amp;quot;:&amp;quot;\\u05d0\\u05d9\\u05df \\u05d0\\u05e4\\u05e9\\u05e8\\u05d5\\u05ea \\u05dc\\u05d8\\u05e2\\u05d5\\u05df \\u05d0\\u05ea \\u05db\\u05ea\\u05d5\\u05d1\\u05ea \\u05d4-URL: \\u05d4\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05df \\u05e9\\u05dc \\u05db\\u05ea\\u05d5\\u05d1\\u05ea URL \\u05d6\\u05d5 \\u05d0\\u05d9\\u05e0\\u05d5 \\u05db\\u05dc\\u05d5\\u05dc \\u05d1\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05e0\\u05d9\\u05dd \\u05e9\\u05dc \\u05d4\\u05d0\\u05e4\\u05dc\\u05d9\\u05e7\\u05e6\\u05d9\\u05d4. \\u05db\\u05d3\\u05d9 \\u05e9\\u05ea\\u05d4\\u05d9\\u05d4 \\u05dc\\u05da \\u05d0\\u05e4\\u05e9\\u05e8\\u05d5\\u05ea \\u05dc\\u05d8\\u05e2\\u05d5\\u05df \\u05db\\u05ea\\u05d5\\u05d1\\u05ea URL \\u05d6\\u05d5, \\u05e2\\u05dc\\u05d9\\u05da \\u05dc\\u05d4\\u05d5\\u05e1\\u05d9\\u05e3 \\u05d0\\u05ea \\u05db\\u05dc \\u05d4\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05e0\\u05d9\\u05dd \\u05d5\\u05ea\\u05ea-\\u05d4\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05e0\\u05d9\\u05dd \\u05e9\\u05dc \\u05d4\\u05d0\\u05e4\\u05dc\\u05d9\\u05e7\\u05e6\\u05d9\\u05d4 \\u05e9\\u05dc\\u05da \\u05dc\\u05e9\\u05d3\\u05d4 &amp;#x27;\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05e0\\u05d9\\u05dd \\u05e9\\u05dc \\u05d0\\u05e4\\u05dc\\u05d9\\u05e7\\u05e6\\u05d9\\u05d4&amp;#x27; \\u05d1\\u05d4\\u05d2\\u05d3\\u05e8\\u05d5\\u05ea \\u05d4\\u05d0\\u05e4\\u05dc\\u05d9\\u05e7\\u05e6\\u05d9\\u05d4.&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;OAuthException&amp;quot;,&amp;quot;code&amp;quot;:191,&amp;quot;fbtrace_id&amp;quot;:&amp;quot;AqO3BVHcTeblzF1-Zn38UhJ&amp;quot;}}\n\u274c Initial token exchange failed: {&amp;quot;error&amp;quot;:{&amp;quot;message&amp;quot;:&amp;quot;\\u05d0\\u05d9\\u05df \\u05d0\\u05e4\\u05e9\\u05e8\\u05d5\\u05ea \\u05dc\\u05d8\\u05e2\\u05d5\\u05df \\u05d0\\u05ea \\u05db\\u05ea\\u05d5\\u05d1\\u05ea \\u05d4-URL: \\u05d4\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05df \\u05e9\\u05dc \\u05db\\u05ea\\u05d5\\u05d1\\u05ea URL \\u05d6\\u05d5 \\u05d0\\u05d9\\u05e0\\u05d5 \\u05db\\u05dc\\u05d5\\u05dc \\u05d1\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05e0\\u05d9\\u05dd \\u05e9\\u05dc \\u05d4\\u05d0\\u05e4\\u05dc\\u05d9\\u05e7\\u05e6\\u05d9\\u05d4. \\u05db\\u05d3\\u05d9 \\u05e9\\u05ea\\u05d4\\u05d9\\u05d4 \\u05dc\\u05da \\u05d0\\u05e4\\u05e9\\u05e8\\u05d5\\u05ea \\u05dc\\u05d8\\u05e2\\u05d5\\u05df \\u05db\\u05ea\\u05d5\\u05d1\\u05ea URL \\u05d6\\u05d5, \\u05e2\\u05dc\\u05d9\\u05da \\u05dc\\u05d4\\u05d5\\u05e1\\u05d9\\u05e3 \\u05d0\\u05ea \\u05db\\u05dc \\u05d4\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05e0\\u05d9\\u05dd \\u05d5\\u05ea\\u05ea-\\u05d4\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05e0\\u05d9\\u05dd \\u05e9\\u05dc \\u05d4\\u05d0\\u05e4\\u05dc\\u05d9\\u05e7\\u05e6\\u05d9\\u05d4 \\u05e9\\u05dc\\u05da \\u05dc\\u05e9\\u05d3\\u05d4 &amp;#x27;\\u05d3\\u05d5\\u05de\\u05d9\\u05d9\\u05e0\\u05d9\\u05dd \\u05e9\\u05dc \\u05d0\\u05e4\\u05dc\\u05d9\\u05e7\\u05e6\\u05d9\\u05d4&amp;#x27; \\u05d1\\u05d4\\u05d2\\u05d3\\u05e8\\u05d5\\u05ea \\u05d4\\u05d0\\u05e4\\u05dc\\u05d9\\u05e7\\u05e6\\u05d9\\u05d4.&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;OAuthException&amp;quot;,&amp;quot;code&amp;quot;:191,&amp;quot;fbtrace_id&amp;quot;:&amp;quot;AqO3BVHcTeblzF1-Zn38UhJ&amp;quot;}}\n\n\ud83d\udd0d Step 2: Testing Long-Lived Token Exchange\n--------------------------------------------------\nLong-Lived Token Exchange Status: 400\nResponse: {&amp;quot;error&amp;quot;:{&amp;quot;message&amp;quot;:&amp;quot;Invalid OAuth access token - Cannot parse access token&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;OAuthException&amp;quot;,&amp;quot;code&amp;quot;:190,&amp;quot;fbtrace_id&amp;quot;:&amp;quot;ATqQDMSEzCFESWDpnO4Ftp2&amp;quot;}}\n\u274c Long-lived token exchange failed: {&amp;quot;error&amp;quot;:{&amp;quot;message&amp;quot;:&amp;quot;Invalid OAuth access token - Cannot parse access token&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;OAuthException&amp;quot;,&amp;quot;code&amp;quot;:190,&amp;quot;fbtrace_id&amp;quot;:&amp;quot;ATqQDMSEzCFESWDpnO4Ftp2&amp;quot;}}\n\n\ud83d\udd0d Step 3: Checking Available Permissions\n--------------------------------------------------\nPermissions Status: 200\n\u2705 Available Permissions: {\n  &amp;quot;data&amp;quot;: [\n    {\n      &amp;quot;permission&amp;quot;: &amp;quot;email&amp;quot;,\n      &amp;quot;status&amp;quot;: &amp;quot;live&amp;quot;\n    },\n    {\n      &amp;quot;permission&amp;quot;: &amp;quot;public_profile&amp;quot;,\n      &amp;quot;status&amp;quot;: &amp;quot;live&amp;quot;\n    }\n  ]\n}\n\n\ud83d\udd0d Step 4: Checking App Configuration\n--------------------------------------------------\nApp Info Status: 400\n\u274c Failed to get app info: {&amp;quot;error&amp;quot;:{&amp;quot;message&amp;quot;:&amp;quot;(#100) Tried accessing nonexisting field (data_deletion_url) on node type (Application)&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;OAuthException&amp;quot;,&amp;quot;code&amp;quot;:100,&amp;quot;fbtrace_id&amp;quot;:&amp;quot;Ah_1d5Bp3nwl1VbdWG1Tgt2&amp;quot;}}\n&#34;}], &#34;tests/integration/test_facebook_token_exchange.py::test_facebook_token_exchange&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_facebook_token_exchange.py::test_facebook_token_exchange&#34;, &#34;duration&#34;: &#34;425 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_facebook_token_exchange.py::test_facebook_token_exchange&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;425 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n\ud83d\udd0d Testing Facebook Token Exchange Process\n============================================================\n\u2705 Facebook App ID: 10013326125457266\n\u2705 Facebook App Secret: ********************************\n\n\ud83d\udd0d Testing Facebook Token Exchange API...\nURL: https://graph.facebook.com/v18.0/oauth/access_token\n\nResponse Status: 400\nResponse Headers: {&amp;#x27;Content-Type&amp;#x27;: &amp;#x27;application/json; charset=UTF-8&amp;#x27;, &amp;#x27;WWW-Authenticate&amp;#x27;: &amp;#x27;OAuth &amp;quot;Facebook Platform&amp;quot; &amp;quot;invalid_token&amp;quot; &amp;quot;Invalid OAuth access token - Cannot parse access token&amp;quot;&amp;#x27;, &amp;#x27;facebook-api-version&amp;#x27;: &amp;#x27;v18.0&amp;#x27;, &amp;#x27;Access-Control-Allow-Origin&amp;#x27;: &amp;#x27;*&amp;#x27;, &amp;#x27;Strict-Transport-Security&amp;#x27;: &amp;#x27;max-age=15552000; preload&amp;#x27;, &amp;#x27;Pragma&amp;#x27;: &amp;#x27;no-cache&amp;#x27;, &amp;#x27;Cache-Control&amp;#x27;: &amp;#x27;no-store&amp;#x27;, &amp;#x27;Expires&amp;#x27;: &amp;#x27;Sat, 01 Jan 2000 00:00:00 GMT&amp;#x27;, &amp;#x27;x-fb-request-id&amp;#x27;: &amp;#x27;A_yvyIjd-nvwLKzucXa_iZj&amp;#x27;, &amp;#x27;x-fb-trace-id&amp;#x27;: &amp;#x27;FilfiaNFInM&amp;#x27;, &amp;#x27;x-fb-rev&amp;#x27;: &amp;#x27;1030439371&amp;#x27;, &amp;#x27;X-FB-Debug&amp;#x27;: &amp;#x27;I0BD3l8HOMGIjT2Q49tgnjGrIInXnI32DOx06gth5nDzkOyd3xlopRyDXNC4SF5nVeHAP7A0PGvI02j8xcw7Ww==&amp;#x27;, &amp;#x27;Date&amp;#x27;: &amp;#x27;Sun, 30 Nov 2025 17:45:57 GMT&amp;#x27;, &amp;#x27;Proxy-Status&amp;#x27;: &amp;#x27;http_request_error; e_fb_vipaddr=&amp;quot;AcMt80-9eVMO3kSsd29WdmirfceDKBaMMQ9IubbAA58usovtoJBRdIO0_O4Da_-fCw2ferVLoJntJwP6yjqil_ZN88tgyNERVCuX6A&amp;quot;; e_clientaddr=&amp;quot;AcMtt4bWcSjSB3cgV4WHDBchK_jqWL06guQXtGSFrGyOrsR-aK_0IyH8hEP4XblbmU7H-oxCzWTdbTmJwibLSA5x_NFKw38ljKg75SjTcemEnR0Sig&amp;quot;; e_upip=&amp;quot;AcM5dGEYO8p2_Z9uourldrGqP8n27PgB7K4_KUsQzIV7TfrtCg53C48hbKwft6KwfUECxcXr7TjZMSie1sL1KNFg_yTlPjqfA8JK7w1HUBw&amp;quot;; e_fb_zone=&amp;quot;AcNEGZBU9oIYBP6-vJCRZUVSaf4GdaWCzsfzPEeJF6NHHzCumHAi3kfqXRordqHw&amp;quot;; e_fb_twtaskhandle=&amp;quot;AcMGQXduh5x09oK-Ip1YmWC-7Ti2izMWrKCVl4gfm_MM1jjEbMR8DzrWvNDKwVzlZ4R2QDlp-Q3lM_pz25CEw2qHoUF8vv-asSwGV3u2k3U8H0U&amp;quot;; e_proxy=&amp;quot;AcMDbeIXy-diMzdMBE_AFT6Rr11HWnJs-ZCaZuB44SO4E8ywqSIcocJ3Ijun26qxLKalCANgyrrRAm48mPUJ&amp;quot;, http_request_error; e_fb_vipaddr=&amp;quot;AcOF2F3k-KLh_E6CVDHOe5Iq9elfCLcGipUF630XqdWU2Ey9lU9fSJh9NVDFJu4DizYsftvc_-jjGevp62QdWljEh0pplPmUOw&amp;quot;; e_clientaddr=&amp;quot;AcPvoaebYly42oaHbxNtvpFV0ZS2P3HZP0KlFRsikZzzRoote-NweYNnhuTH1-Os5IXN00yEdJnD58nq4aoXBcBUVGefn5pJl7q43cZj9M1mKKVzyHfRQQ&amp;quot;; e_upip=&amp;quot;AcMFtZUvOTPZ6kSvKhHttMaBeX_2eDgG6Uk8__V6JvZdSP7Nb2gxT-f60zN7qhI2KvVFQlAR7q6B3icGTqaofYWW-kIuDzKst21R_g&amp;quot;; e_fb_zone=&amp;quot;AcOiaB09MuFJjKVpdWRjqKgnO1hC7raeHCeY0rs9a6aUj1oUEOAtcCCKoMmxkA&amp;quot;; e_fb_twtaskhandle=&amp;quot;AcPjzsP3LZUG0wmZzo8wrpwyOIn6rcTAp2dt9xIMHXLLXQRQruQ6P_BTCT__6LDdcpLQl4WpRSCBlK6uzTXkV9ydOZDvX1e0OO6z_A&amp;quot;; e_proxy=&amp;quot;AcOePTXPRVmVEYP7LH_pyzloQXKXqaGeeTu2fLA_NZyZ0mplswJWIoFzTEfoNGapEhZRw_Af-YJQ9fs&amp;quot;&amp;#x27;, &amp;#x27;X-FB-Connection-Quality&amp;#x27;: &amp;#x27;EXCELLENT; q=0.9, rtt=47, rtx=0, c=10, mss=1380, tbw=3484, tp=-1, tpl=-1, uplat=33, ullat=0&amp;#x27;, &amp;#x27;Alt-Svc&amp;#x27;: &amp;#x27;h3=&amp;quot;:443&amp;quot;; ma=86400&amp;#x27;, &amp;#x27;Connection&amp;#x27;: &amp;#x27;keep-alive&amp;#x27;, &amp;#x27;Content-Length&amp;#x27;: &amp;#x27;152&amp;#x27;}\nResponse Body: {&amp;quot;error&amp;quot;:{&amp;quot;message&amp;quot;:&amp;quot;Invalid OAuth access token - Cannot parse access token&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;OAuthException&amp;quot;,&amp;quot;code&amp;quot;:190,&amp;quot;fbtrace_id&amp;quot;:&amp;quot;A_yvyIjd-nvwLKzucXa_iZj&amp;quot;}}\n\u274c Token exchange failed: {&amp;#x27;error&amp;#x27;: {&amp;#x27;message&amp;#x27;: &amp;#x27;Invalid OAuth access token - Cannot parse access token&amp;#x27;, &amp;#x27;type&amp;#x27;: &amp;#x27;OAuthException&amp;#x27;, &amp;#x27;code&amp;#x27;: 190, &amp;#x27;fbtrace_id&amp;#x27;: &amp;#x27;A_yvyIjd-nvwLKzucXa_iZj&amp;#x27;}}\n\n\ud83d\udd0d Checking Facebook App Configuration...\nApp Info Status: 200\n\u2705 App Info: {\n  &amp;quot;category&amp;quot;: &amp;quot;Business&amp;quot;,\n  &amp;quot;link&amp;quot;: &amp;quot;https://satoapp.co/&amp;quot;,\n  &amp;quot;name&amp;quot;: &amp;quot;Sato Marketing API&amp;quot;,\n  &amp;quot;id&amp;quot;: &amp;quot;10013326125457266&amp;quot;\n}\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_owner_can_access_all_metrics&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_owner_can_access_all_metrics&#34;, &#34;duration&#34;: &#34;210 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_owner_can_access_all_metrics&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;210 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:58.155506 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:58\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 5 metrics (total: 5)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_admin_can_access_agency_metrics_only&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_admin_can_access_agency_metrics_only&#34;, &#34;duration&#34;: &#34;175 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_admin_can_access_agency_metrics_only&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;175 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:58.339400 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:58\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: admin@test.com\nDEBUG: Token contains email, looking up by email: admin@test.com\nDEBUG: Campaigner found: 2, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:98 [Metrics API] ADMIN 2 accessing agency 1 metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 4 metrics (total: 4)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_campaigner_can_access_assigned_metrics_only&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_campaigner_can_access_assigned_metrics_only&#34;, &#34;duration&#34;: &#34;183 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_campaigner_can_access_assigned_metrics_only&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;183 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:58.520697 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:58\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: campaigner1@test.com\nDEBUG: Token contains email, looking up by email: campaigner1@test.com\nDEBUG: Campaigner found: 3, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:164 [Metrics API] CAMPAIGNER 3 accessing assigned metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 3 metrics (total: 3)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_campaigner_cannot_access_unassigned_customer&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_campaigner_cannot_access_unassigned_customer&#34;, &#34;duration&#34;: &#34;209 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_campaigner_cannot_access_unassigned_customer&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;209 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:58.729452 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:58\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: campaigner1@test.com\nDEBUG: Token contains email, looking up by email: campaigner1@test.com\nDEBUG: Campaigner found: 3, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:164 [Metrics API] CAMPAIGNER 3 accessing assigned metrics\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_admin_cannot_access_other_agency_customer&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_admin_cannot_access_other_agency_customer&#34;, &#34;duration&#34;: &#34;400 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIAccess::test_admin_cannot_access_other_agency_customer&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;400 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:59.121400 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:59\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: admin@test.com\nDEBUG: Token contains email, looking up by email: admin@test.com\nDEBUG: Campaigner found: 2, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:98 [Metrics API] ADMIN 2 accessing agency 1 metrics\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_date_range&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_date_range&#34;, &#34;duration&#34;: &#34;214 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_date_range&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;214 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:59.341786 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:59\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 4 metrics (total: 4)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_platform_id&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_platform_id&#34;, &#34;duration&#34;: &#34;194 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_platform_id&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;194 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:59.531861 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:59\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 3 metrics (total: 3)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_item_type_ad&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_item_type_ad&#34;, &#34;duration&#34;: &#34;201 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_item_type_ad&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;201 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:59.739087 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:59\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 4 metrics (total: 4)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_item_type_ad_group&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_item_type_ad_group&#34;, &#34;duration&#34;: &#34;178 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_item_type_ad_group&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;178 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:45:59.922387 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:45:59\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 1 metrics (total: 1)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_customer_id_owner&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_customer_id_owner&#34;, &#34;duration&#34;: &#34;234 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_filter_by_customer_id_owner&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;234 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:00.152422 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:00\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 3 metrics (total: 3)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_combined_filters&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_combined_filters&#34;, &#34;duration&#34;: &#34;197 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIFiltering::test_combined_filters&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;197 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:00.353403 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:00\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 1 metrics (total: 1)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_limit&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_limit&#34;, &#34;duration&#34;: &#34;442 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_limit&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;442 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:00.792475 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:00\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 2 metrics (total: 5)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_offset&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_offset&#34;, &#34;duration&#34;: &#34;213 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_offset&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;213 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:01.012706 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:01\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 2 metrics (total: 5)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_limit_exceeds_max&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_limit_exceeds_max&#34;, &#34;duration&#34;: &#34;182 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIPagination::test_pagination_limit_exceeds_max&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;182 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:01.196704 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:01\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nERROR    app.main:main.py:115 Validation error on http://testserver/api/v1/metrics?limit=2000: [{&amp;#x27;type&amp;#x27;: &amp;#x27;less_than_equal&amp;#x27;, &amp;#x27;loc&amp;#x27;: (&amp;#x27;query&amp;#x27;, &amp;#x27;limit&amp;#x27;), &amp;#x27;msg&amp;#x27;: &amp;#x27;Input should be less than or equal to 1000&amp;#x27;, &amp;#x27;input&amp;#x27;: &amp;#x27;2000&amp;#x27;, &amp;#x27;ctx&amp;#x27;: {&amp;#x27;le&amp;#x27;: 1000}}]\nERROR    app.main:main.py:116 Request body: b&amp;#x27;&amp;#x27;\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_invalid_item_type&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_invalid_item_type&#34;, &#34;duration&#34;: &#34;179 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_invalid_item_type&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;179 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:01.376054 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:01\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_unauthorized_access&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_unauthorized_access&#34;, &#34;duration&#34;: &#34;181 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_unauthorized_access&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;181 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_invalid_date_format&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_invalid_date_format&#34;, &#34;duration&#34;: &#34;232 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIValidation::test_invalid_date_format&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;232 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:01.777341 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:01\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nERROR    app.main:main.py:115 Validation error on http://testserver/api/v1/metrics?start_date=invalid-date: [{&amp;#x27;type&amp;#x27;: &amp;#x27;date_from_datetime_parsing&amp;#x27;, &amp;#x27;loc&amp;#x27;: (&amp;#x27;query&amp;#x27;, &amp;#x27;start_date&amp;#x27;), &amp;#x27;msg&amp;#x27;: &amp;#x27;Input should be a valid date or datetime, invalid character in year&amp;#x27;, &amp;#x27;input&amp;#x27;: &amp;#x27;invalid-date&amp;#x27;, &amp;#x27;ctx&amp;#x27;: {&amp;#x27;error&amp;#x27;: &amp;#x27;invalid character in year&amp;#x27;}}]\nERROR    app.main:main.py:116 Request body: b&amp;#x27;&amp;#x27;\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIResponseStructure::test_response_structure&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIResponseStructure::test_response_structure&#34;, &#34;duration&#34;: &#34;188 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIResponseStructure::test_response_structure&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;188 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:01.972506 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:01\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: owner@test.com\nDEBUG: Token contains email, looking up by email: owner@test.com\nDEBUG: Campaigner found: 1, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:68 [Metrics API] OWNER 1 accessing all metrics\nINFO     app.app.api.v1.routes.metrics:metrics.py:257 [Metrics API] Returning 1 metrics (total: 5)\n\n&#34;}], &#34;tests/integration/test_metrics_api.py::TestMetricsAPIResponseStructure::test_empty_result_structure&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_metrics_api.py::TestMetricsAPIResponseStructure::test_empty_result_structure&#34;, &#34;duration&#34;: &#34;182 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_metrics_api.py::TestMetricsAPIResponseStructure::test_empty_result_structure&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;182 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:02.161446 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:02\nDEBUG: Token payload: [&amp;#x27;sub&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: campaigner2@test.com\nDEBUG: Token contains email, looking up by email: campaigner2@test.com\nDEBUG: Campaigner found: 4, status: UserStatus.ACTIVE\n\n------------------------------ Captured log call -------------------------------\nINFO     app.app.api.v1.routes.metrics:metrics.py:164 [Metrics API] CAMPAIGNER 4 accessing assigned metrics\n\n&#34;}], &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_google_ads_connection_triggers_90_day_sync&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_google_ads_connection_triggers_90_day_sync&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_google_ads_connection_triggers_90_day_sync&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_facebook_connection_triggers_90_day_sync&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_facebook_connection_triggers_90_day_sync&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_facebook_connection_triggers_90_day_sync&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_sync_metrics_new_auto_detects_gaps&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_sync_metrics_new_auto_detects_gaps&#34;, &#34;duration&#34;: &#34;140 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_sync_metrics_new_auto_detects_gaps&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;140 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:776 \ud83d\uddd1\ufe0f  Cleaning up metrics older than 2024-11-30\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:784 \u2705 Deleted 0 old metric records\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:794 \ud83d\udcca Processing 1 customer(s)\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:800 \ud83d\udc64 Processing customer: Test Customer (ID: 1)\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:818    \u26a0\ufe0f  No active advertising platforms found for customer 1\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:922 \u2705 Sync completed in 0.00s\n   Customers: 1\n   Platforms: 0\n   Metrics: 0\n   Errors: 0\n   Connection failures: 0\nERROR    app.app.services.clickup_service:clickup_service.py:233 \u274c ClickUp API error sending message: [{&amp;#x27;accept&amp;#x27;: &amp;#x27;application/json&amp;#x27;, &amp;#x27;content-type&amp;#x27;: &amp;#x27;application/json&amp;#x27;, &amp;#x27;Authorization&amp;#x27;: &amp;#x27;pk_88468272_JCDWR6VAX0PL7QVKPUNIWYU7JP7ZL8PC&amp;#x27;}] 500 - Post &amp;quot;http://comment-service.chat/comment-service/v3/publicapi/workspaces/%3CMagicMock%20name=%27get_session%28%29.__enter__%28%29.exec%28%29.first%28%29.value%27%20id=%27137787706381264%27%3E/chat/channels/6-901413553845-8/messages&amp;quot;: dial tcp: lookup comment-service.chat: no such host\n\n&#34;}], &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_sync_metrics_new_no_params&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_sync_metrics_new_no_params&#34;, &#34;duration&#34;: &#34;130 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_sync_metrics_new_no_params&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;130 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:776 \ud83d\uddd1\ufe0f  Cleaning up metrics older than 2024-11-30\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:784 \u2705 Deleted 0 old metric records\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:794 \ud83d\udcca Processing 1 customer(s)\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:800 \ud83d\udc64 Processing customer: Test Customer (ID: 1)\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:818    \u26a0\ufe0f  No active advertising platforms found for customer 1\nINFO     app.services.campaign_sync_service:campaign_sync_service.py:922 \u2705 Sync completed in 0.00s\n   Customers: 1\n   Platforms: 0\n   Metrics: 0\n   Errors: 0\n   Connection failures: 0\nERROR    app.app.services.clickup_service:clickup_service.py:233 \u274c ClickUp API error sending message: [{&amp;#x27;accept&amp;#x27;: &amp;#x27;application/json&amp;#x27;, &amp;#x27;content-type&amp;#x27;: &amp;#x27;application/json&amp;#x27;, &amp;#x27;Authorization&amp;#x27;: &amp;#x27;pk_88468272_JCDWR6VAX0PL7QVKPUNIWYU7JP7ZL8PC&amp;#x27;}] 500 - Post &amp;quot;http://comment-service.chat/comment-service/v3/publicapi/workspaces/%3CMagicMock%20name=%27get_session%28%29.__enter__%28%29.exec%28%29.first%28%29.value%27%20id=%27137787705145728%27%3E/chat/channels/6-901413553845-8/messages&amp;quot;: dial tcp: lookup comment-service.chat: no such host\n\n&#34;}], &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_connection_creation_continues_on_sync_failure&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_connection_creation_continues_on_sync_failure&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_new_asset_metrics_sync.py::TestNewAssetMetricsSync::test_connection_creation_continues_on_sync_failure&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/integration/test_validate_mcp_facebook.py::test_fetch_meta_ads_token&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/integration/test_validate_mcp_facebook.py::test_fetch_meta_ads_token::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_validate_mcp_facebook.py::test_fetch_meta_ads_token::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;/home/yashar/projects/sato-be/sato/sato-be/tests/integration/test_validate_mcp_facebook.py&amp;#x27;, 10, &amp;#x27;Skipped: Credential fetching moved to CustomerCredentialManager - see test_credential_manager_integration.py&amp;#x27;)\n&#34;}], &#34;tests/integration/test_validate_mcp_facebook.py::test_fetch_google_ads_token&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/integration/test_validate_mcp_facebook.py::test_fetch_google_ads_token::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_validate_mcp_facebook.py::test_fetch_google_ads_token::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;/home/yashar/projects/sato-be/sato/sato-be/tests/integration/test_validate_mcp_facebook.py&amp;#x27;, 19, &amp;#x27;Skipped: Credential fetching moved to CustomerCredentialManager - see test_credential_manager_integration.py&amp;#x27;)\n&#34;}], &#34;tests/integration/test_validate_mcp_facebook.py::test_fetch_all_credentials&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/integration/test_validate_mcp_facebook.py::test_fetch_all_credentials::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/integration/test_validate_mcp_facebook.py::test_fetch_all_credentials::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;/home/yashar/projects/sato-be/sato/sato-be/tests/integration/test_validate_mcp_facebook.py&amp;#x27;, 26, &amp;#x27;Skipped: Credential fetching moved to CustomerCredentialManager - see test_credential_manager_integration.py&amp;#x27;)\n&#34;}], &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_create_access_token&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_create_access_token&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestJWTAuthentication::test_create_access_token&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:02.530043 (in 480 minutes)\n&#34;}], &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_create_refresh_token&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_create_refresh_token&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestJWTAuthentication::test_create_refresh_token&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_valid&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_valid&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_valid&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:02.531761 (in 480 minutes)\nDEBUG: Token valid until 2025-12-01T03:46:02\n&#34;}], &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_expired&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_expired&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_expired&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-11-30T17:46:01.532464 (in 480 minutes)\nDEBUG: JWT decode error: Signature has expired.\n&#34;}], &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_wrong_type&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_wrong_type&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_wrong_type&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Token type mismatch - expected access, got refresh\n&#34;}], &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_invalid&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_invalid&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestJWTAuthentication::test_verify_token_invalid&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: JWT decode error: Invalid header string: &amp;#x27;utf-8&amp;#x27; codec can&amp;#x27;t decode byte 0x8a in position 0: invalid start byte\n&#34;}], &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_api_token_service_creation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_api_token_service_creation&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_api_token_service_creation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_api_token_service_with_env_var&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_api_token_service_with_env_var&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_api_token_service_with_env_var&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_valid&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_valid&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_valid&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_invalid&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_invalid&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_invalid&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_no_token_set&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_no_token_set&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_validate_token_no_token_set&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_get_token_permissions&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_get_token_permissions&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestAPITokenAuthentication::test_get_token_permissions&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_valid_token&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_valid_token&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_valid_token&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:02.539900 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:02\nDEBUG: Token payload: [&amp;#x27;campaigner_id&amp;#x27;, &amp;#x27;email&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: 1\nDEBUG: Campaigner found: 1, status: active\n&#34;}], &#34;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_inactive_user&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_inactive_user&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_inactive_user&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:02.541905 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:02\nDEBUG: Token payload: [&amp;#x27;campaigner_id&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: 1\nDEBUG: Campaigner found: 1, status: inactive\nDEBUG: Campaigner 1 status is not active: inactive\nDEBUG: Other error in get_current_user: 401: Campaigner account is not active\n&#34;}], &#34;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_user_not_found&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_user_not_found&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestUserAuthentication::test_get_current_user_user_not_found&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nDEBUG: Created JWT token expiring at 2025-12-01T01:46:02.543415 (in 480 minutes)\nDEBUG: Validating token: eyJhbGciOiJIUzI1NiIs...\nDEBUG: Token valid until 2025-12-01T03:46:02\nDEBUG: Token payload: [&amp;#x27;campaigner_id&amp;#x27;, &amp;#x27;exp&amp;#x27;, &amp;#x27;type&amp;#x27;]\nDEBUG: Extracted campaigner_id: 999\nDEBUG: Campaigner 999 not found in database\nDEBUG: Other error in get_current_user: 401: Campaigner not found\n&#34;}], &#34;tests/unit/test_auth_services.py::TestUserAuthentication::test_create_user_session&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestUserAuthentication::test_create_user_session&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestUserAuthentication::test_create_user_session&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestAPITokenVerification::test_verify_api_token_valid&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestAPITokenVerification::test_verify_api_token_valid&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestAPITokenVerification::test_verify_api_token_valid&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_auth_services.py::TestAPITokenVerification::test_verify_api_token_invalid&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_auth_services.py::TestAPITokenVerification::test_verify_api_token_invalid&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_auth_services.py::TestAPITokenVerification::test_verify_api_token_invalid&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_initialization&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_initialization&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_initialization&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_run&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_run&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_run&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_name_and_description&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_name_and_description&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestDateConversionTool::test_date_conversion_tool_name_and_description&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_tool_initialization&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_tool_initialization&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_tool_initialization&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_tool_crewai_interface&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_tool_crewai_interface&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_tool_crewai_interface&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_input_schema&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_input_schema&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_input_schema&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_addition&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_addition&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_addition&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 2 + 2\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 4\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_subtraction&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_subtraction&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_subtraction&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 10 - 4\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 6\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_multiplication&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_multiplication&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_multiplication&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 5 * 3\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 15\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_division&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_division&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_division&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 10 / 2\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 5.0\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_floor_division&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_floor_division&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_floor_division&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 10 // 3\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 3\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_modulo&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_modulo&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_modulo&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 10 % 3\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 1\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_exponentiation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_exponentiation&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_exponentiation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 2 ** 8\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 256\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_parentheses&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_parentheses&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_parentheses&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: (10 + 5) * 3\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 45\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_multiple_operations&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_multiple_operations&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_multiple_operations&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 100 / 4 + 25\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 50.0\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_percentage_calculation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_percentage_calculation&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_percentage_calculation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: (1500 - 500) * 0.15\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 150.0\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_compound_calculation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_compound_calculation&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_compound_calculation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: (100 * 0.25) + 50\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 75.0\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_negative_number&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_negative_number&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_negative_number&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: -5\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: -5\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_negative_with_addition&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_negative_with_addition&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_negative_with_addition&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: -10 + 3\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: -7\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_invalid_syntax&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_invalid_syntax&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_invalid_syntax&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 2 + * 2\nERROR    app.core.agents.tools.calculator_tool:calculator_tool.py:131 \u274c [CalculatorTool] Calculation error: Invalid mathematical expression: invalid syntax (&amp;lt;unknown&amp;gt;, line 1)\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_division_by_zero&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_division_by_zero&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_division_by_zero&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 10 / 0\nERROR    app.core.agents.tools.calculator_tool:calculator_tool.py:131 \u274c [CalculatorTool] Calculation error: Error evaluating expression: division by zero\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_import&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_import&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_import&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: import os; os.system(&amp;#x27;ls&amp;#x27;)\nERROR    app.core.agents.tools.calculator_tool:calculator_tool.py:131 \u274c [CalculatorTool] Calculation error: Invalid mathematical expression: invalid syntax (&amp;lt;unknown&amp;gt;, line 1)\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_function_call&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_function_call&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_function_call&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: eval(&amp;#x27;2+2&amp;#x27;)\nERROR    app.core.agents.tools.calculator_tool:calculator_tool.py:131 \u274c [CalculatorTool] Calculation error: Error evaluating expression: Unsupported expression type: Call\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_variable&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_variable&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_unsupported_operation_variable&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: x = 5\nERROR    app.core.agents.tools.calculator_tool:calculator_tool.py:131 \u274c [CalculatorTool] Calculation error: Invalid mathematical expression: invalid syntax (&amp;lt;unknown&amp;gt;, line 1)\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_whitespace_handling&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_whitespace_handling&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_whitespace_handling&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 2  +  2\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 4\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_float_result&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_float_result&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_float_result&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 7 / 2\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 3.5\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_large_number&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_large_number&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_large_number&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 999999 * 999999\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 999998000001\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_async_run&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_async_run&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_async_run&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_with_tracing_success&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_with_tracing_success&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_with_tracing_success&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 2 + 2\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 4\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_with_tracing_failure&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_with_tracing_failure&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_with_tracing_failure&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 10 / 0\nERROR    app.core.agents.tools.calculator_tool:calculator_tool.py:131 \u274c [CalculatorTool] Calculation error: Error evaluating expression: division by zero\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_without_tracing&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_without_tracing&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_without_tracing&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 2 + 2\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 4\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_roi_calculation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_roi_calculation&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_roi_calculation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: (1500 - 1000) / 1000\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 0.5\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_cpc_calculation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_cpc_calculation&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_cpc_calculation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 250 / 500\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 0.5\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_conversion_rate&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_conversion_rate&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_conversion_rate&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: (50 / 1000) * 100\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 5.0\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_budget_allocation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_budget_allocation&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_budget_allocation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: 5000 * 0.30\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 1500.0\n\n&#34;}], &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_average_metrics&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_average_metrics&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_crewai_tools.py::TestCalculatorTool::test_calculator_average_metrics&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:94 \ud83e\uddee [CalculatorTool] Evaluating expression: (25 + 30 + 35) / 3\nINFO     app.core.agents.tools.calculator_tool:calculator_tool.py:105 \u2705 [CalculatorTool] Result: 30.0\n\n&#34;}], &#34;tests/unit/test_date_utils.py::TestDateUtils::test_extract_date_from_tool_result&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_date_utils.py::TestDateUtils::test_extract_date_from_tool_result&#34;, &#34;duration&#34;: &#34;164 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_date_utils.py::TestDateUtils::test_extract_date_from_tool_result&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;164 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_date_utils.py::TestDateUtils::test_is_iso_date_format&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_date_utils.py::TestDateUtils::test_is_iso_date_format&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_date_utils.py::TestDateUtils::test_is_iso_date_format&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_date_utils.py::TestDateUtils::test_get_default_date_range&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_date_utils.py::TestDateUtils::test_get_default_date_range&#34;, &#34;duration&#34;: &#34;51 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_date_utils.py::TestDateUtils::test_get_default_date_range&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;51 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_date_utils.py::TestDateUtils::test_format_date_for_api&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_date_utils.py::TestDateUtils::test_format_date_for_api&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_date_utils.py::TestDateUtils::test_format_date_for_api&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_date_utils.py::TestDateUtils::test_convert_relative_dates_to_iso_placeholder&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_date_utils.py::TestDateUtils::test_convert_relative_dates_to_iso_placeholder&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_date_utils.py::TestDateUtils::test_convert_relative_dates_to_iso_placeholder&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_success_no_dependencies&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_success_no_dependencies&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_success_no_dependencies&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_with_connections&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_with_connections&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_with_connections&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_not_found&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_not_found&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_delete_digital_asset_not_found&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_get_digital_asset_dependencies&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_get_digital_asset_dependencies&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_get_digital_asset_dependencies&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_get_digital_asset_dependencies_not_found&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_get_digital_asset_dependencies_not_found&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_digital_asset_management.py::TestDigitalAssetDeletion::test_get_digital_asset_dependencies_not_found&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_successful_client&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_successful_client&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_successful_client&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_client_with_no_tools&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_client_with_no_tools&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_client_with_no_tools&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_client_error&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_client_error&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_client_error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_multiple_clients&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_multiple_clients&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validate_multiple_clients&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validation_timing&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validation_timing&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_mcp_validator.py::TestMCPValidator::test_validation_timing&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_mcp_validator.py::TestValidationResults::test_validation_result_creation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_mcp_validator.py::TestValidationResults::test_validation_result_creation&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_mcp_validator.py::TestValidationResults::test_validation_result_creation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_mcp_validator.py::TestValidationResults::test_validation_result_with_error&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_mcp_validator.py::TestValidationResults::test_validation_result_with_error&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_mcp_validator.py::TestValidationResults::test_validation_result_with_error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_models_base.py::TestBaseModel::test_base_model_creation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_models_base.py::TestBaseModel::test_base_model_creation&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_models_base.py::TestBaseModel::test_base_model_creation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_models_base.py::TestBaseModel::test_base_model_fields&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_models_base.py::TestBaseModel::test_base_model_fields&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_models_base.py::TestBaseModel::test_base_model_fields&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_models_base.py::TestBaseModel::test_timestamp_fields&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_models_base.py::TestBaseModel::test_timestamp_fields&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_models_base.py::TestBaseModel::test_timestamp_fields&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_no_connections&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_no_connections&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_no_connections&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_has_connections&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_has_connections&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_has_connections&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_not_found&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_not_found&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_orphaned_digital_asset_cleanup.py::TestOrphanedDigitalAssetCleanup::test_delete_orphaned_digital_asset_not_found&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_google_ads_connection_deletion_cleans_orphaned_asset&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_google_ads_connection_deletion_cleans_orphaned_asset&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_google_ads_connection_deletion_cleans_orphaned_asset&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_google_analytics_connection_deletion_cleans_orphaned_asset&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_google_analytics_connection_deletion_cleans_orphaned_asset&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_google_analytics_connection_deletion_cleans_orphaned_asset&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_facebook_connection_deletion_cleans_orphaned_asset&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_facebook_connection_deletion_cleans_orphaned_asset&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_orphaned_digital_asset_cleanup.py::TestConnectionDeletionWithOrphanCleanup::test_facebook_connection_deletion_cleans_orphaned_asset&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestBulkConnectionDeletionWithOrphanCleanup::test_customer_deletion_cleans_orphaned_assets&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_orphaned_digital_asset_cleanup.py::TestBulkConnectionDeletionWithOrphanCleanup::test_customer_deletion_cleans_orphaned_assets&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_orphaned_digital_asset_cleanup.py::TestBulkConnectionDeletionWithOrphanCleanup::test_customer_deletion_cleans_orphaned_assets&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_expired_token&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_expired_token&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestTokenExpiration::test_expired_token&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_valid_token&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_valid_token&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestTokenExpiration::test_valid_token&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_token_within_buffer&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_token_within_buffer&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestTokenExpiration::test_token_within_buffer&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_token_outside_buffer&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_token_outside_buffer&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestTokenExpiration::test_token_outside_buffer&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_none_expires_at&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestTokenExpiration::test_none_expires_at&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestTokenExpiration::test_none_expires_at&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_successful_refresh&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_successful_refresh&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_successful_refresh&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.app.core.oauth.token_refresh:token_refresh.py:88 \u2705 Google token refreshed successfully, expires at 2025-11-30 18:46:03.336266\n\n&#34;}], &#34;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_refresh_failure_invalid_grant&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_refresh_failure_invalid_grant&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_refresh_failure_invalid_grant&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nERROR    app.app.core.oauth.token_refresh:token_refresh.py:78 \u274c Google token refresh failed: 400 - &amp;lt;Mock name=&amp;#x27;post().text&amp;#x27; id=&amp;#x27;137787852960928&amp;#x27;&amp;gt;\n\n&#34;}], &#34;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_refresh_network_error&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_refresh_network_error&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestGoogleTokenRefresh::test_refresh_network_error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nERROR    app.app.core.oauth.token_refresh:token_refresh.py:102 \u274c Unexpected error refreshing Google token: Connection timeout\n\n&#34;}], &#34;tests/unit/test_token_refresh.py::TestFacebookTokenRefresh::test_successful_refresh&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestFacebookTokenRefresh::test_successful_refresh&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestFacebookTokenRefresh::test_successful_refresh&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.app.core.oauth.token_refresh:token_refresh.py:144 \u2705 Facebook token refreshed successfully, expires at 2026-01-29 17:46:03.339529\n\n&#34;}], &#34;tests/unit/test_token_refresh.py::TestFacebookTokenRefresh::test_refresh_failure&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_token_refresh.py::TestFacebookTokenRefresh::test_refresh_failure&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_token_refresh.py::TestFacebookTokenRefresh::test_refresh_failure&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nERROR    app.app.core.oauth.token_refresh:token_refresh.py:134 \u274c Facebook token refresh failed: 400 - &amp;lt;Mock name=&amp;#x27;get().text&amp;#x27; id=&amp;#x27;137787852961264&amp;#x27;&amp;gt;\n\n&#34;}], &#34;tests/unit/test_type_coercion.py::test_wrap_tool_with_type_coercion_basic&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_type_coercion.py::test_wrap_tool_with_type_coercion_basic&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_type_coercion.py::test_wrap_tool_with_type_coercion_basic&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     app.core.agents.graph.single_analytics_agent:single_analytics_agent.py:293 \u2705 [TypeCoercion] Wrapped coroutine for tool &amp;#x27;test_tool&amp;#x27;\n\n&#34;}], &#34;tests/unit/test_type_coercion.py::test_type_coercion_float_to_int&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_type_coercion.py::test_type_coercion_float_to_int&#34;, &#34;duration&#34;: &#34;7 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_type_coercion.py::test_type_coercion_float_to_int&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;7 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_type_coercion.py::test_type_coercion_preserves_int&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_type_coercion.py::test_type_coercion_preserves_int&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_type_coercion.py::test_type_coercion_preserves_int&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_type_coercion.py::test_no_wrapping_when_no_int_params&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/unit/test_type_coercion.py::test_no_wrapping_when_no_int_params&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_type_coercion.py::test_no_wrapping_when_no_int_params&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/unit/test_type_coercion.py::test_nested_dict_coercion&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/unit/test_type_coercion.py::test_nested_dict_coercion&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_type_coercion.py::test_nested_dict_coercion&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:533: in runtest\n    super().runtest()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:1049: in inner\n    _loop = _get_event_loop_no_warn()\n../../tmp/AttemptedBE/venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:979: in _get_event_loop_no_warn\n    return asyncio.get_event_loop()\n/usr/lib/python3.12/asyncio/events.py:702: in get_event_loop\n    raise RuntimeError(&amp;#x27;There is no current event loop in thread %r.&amp;#x27;\nE   RuntimeError: There is no current event loop in thread &amp;#x27;MainThread&amp;#x27;.\n&#34;}], &#34;tests/unit/test_type_coercion_manual.py::test_type_coercion&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/unit/test_type_coercion_manual.py::test_type_coercion&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/unit/test_type_coercion_manual.py::test_type_coercion&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;/home/yashar/projects/sato-be/tmp/AttemptedBE/venv/lib/python3.12/site-packages/_pytest/python.py&amp;#x27;, 149, &amp;#x27;Skipped: async def function and no async plugin installed (see warnings)&amp;#x27;)\n&#34;}]}, &#34;renderCollapsed&#34;: [&#34;passed&#34;], &#34;initialSort&#34;: &#34;result&#34;, &#34;title&#34;: &#34;test-report.html&#34;}"></div>
    <script>
      (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
const { getCollapsedCategory, setCollapsedIds } = require('./storage.js')

class DataManager {
    setManager(data) {
        const collapsedCategories = [...getCollapsedCategory(data.renderCollapsed)]
        const collapsedIds = []
        const tests = Object.values(data.tests).flat().map((test, index) => {
            const collapsed = collapsedCategories.includes(test.result.toLowerCase())
            const id = `test_${index}`
            if (collapsed) {
                collapsedIds.push(id)
            }
            return {
                ...test,
                id,
                collapsed,
            }
        })
        const dataBlob = { ...data, tests }
        this.data = { ...dataBlob }
        this.renderData = { ...dataBlob }
        setCollapsedIds(collapsedIds)
    }

    get allData() {
        return { ...this.data }
    }

    resetRender() {
        this.renderData = { ...this.data }
    }

    setRender(data) {
        this.renderData.tests = [...data]
    }

    toggleCollapsedItem(id) {
        this.renderData.tests = this.renderData.tests.map((test) =>
            test.id === id ? { ...test, collapsed: !test.collapsed } : test,
        )
    }

    set allCollapsed(collapsed) {
        this.renderData = { ...this.renderData, tests: [...this.renderData.tests.map((test) => (
            { ...test, collapsed }
        ))] }
    }

    get testSubset() {
        return [...this.renderData.tests]
    }

    get environment() {
        return this.renderData.environment
    }

    get initialSort() {
        return this.data.initialSort
    }
}

module.exports = {
    manager: new DataManager(),
}

},{"./storage.js":8}],2:[function(require,module,exports){
const mediaViewer = require('./mediaviewer.js')
const templateEnvRow = document.getElementById('template_environment_row')
const templateResult = document.getElementById('template_results-table__tbody')

function htmlToElements(html) {
    const temp = document.createElement('template')
    temp.innerHTML = html
    return temp.content.childNodes
}

const find = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return elem.querySelector(selector)
}

const findAll = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return [...elem.querySelectorAll(selector)]
}

const dom = {
    getStaticRow: (key, value) => {
        const envRow = templateEnvRow.content.cloneNode(true)
        const isObj = typeof value === 'object' && value !== null
        const values = isObj ? Object.keys(value).map((k) => `${k}: ${value[k]}`) : null

        const valuesElement = htmlToElements(
            values ? `<ul>${values.map((val) => `<li>${val}</li>`).join('')}<ul>` : `<div>${value}</div>`)[0]
        const td = findAll('td', envRow)
        td[0].textContent = key
        td[1].appendChild(valuesElement)

        return envRow
    },
    getResultTBody: ({ testId, id, log, extras, resultsTableRow, tableHtml, result, collapsed }) => {
        const resultBody = templateResult.content.cloneNode(true)
        resultBody.querySelector('tbody').classList.add(result.toLowerCase())
        resultBody.querySelector('tbody').id = testId
        resultBody.querySelector('.collapsible').dataset.id = id

        resultsTableRow.forEach((html) => {
            const t = document.createElement('template')
            t.innerHTML = html
            resultBody.querySelector('.collapsible').appendChild(t.content)
        })

        if (log) {
            // Wrap lines starting with "E" with span.error to color those lines red
            const wrappedLog = log.replace(/^E.*$/gm, (match) => `<span class="error">${match}</span>`)
            resultBody.querySelector('.log').innerHTML = wrappedLog
        } else {
            resultBody.querySelector('.log').remove()
        }

        if (collapsed) {
            resultBody.querySelector('.collapsible > td')?.classList.add('collapsed')
            resultBody.querySelector('.extras-row').classList.add('hidden')
        } else {
            resultBody.querySelector('.collapsible > td')?.classList.remove('collapsed')
        }

        const media = []
        extras?.forEach(({ name, format_type, content }) => {
            if (['image', 'video'].includes(format_type)) {
                media.push({ path: content, name, format_type })
            }

            if (format_type === 'html') {
                resultBody.querySelector('.extraHTML').insertAdjacentHTML('beforeend', `<div>${content}</div>`)
            }
        })
        mediaViewer.setup(resultBody, media)

        // Add custom html from the pytest_html_results_table_html hook
        tableHtml?.forEach((item) => {
            resultBody.querySelector('td[class="extra"]').insertAdjacentHTML('beforeend', item)
        })

        return resultBody
    },
}

module.exports = {
    dom,
    htmlToElements,
    find,
    findAll,
}

},{"./mediaviewer.js":6}],3:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const storageModule = require('./storage.js')

const getFilteredSubSet = (filter) =>
    manager.allData.tests.filter(({ result }) => filter.includes(result.toLowerCase()))

const doInitFilter = () => {
    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)
}

const doFilter = (type, show) => {
    if (show) {
        storageModule.showCategory(type)
    } else {
        storageModule.hideCategory(type)
    }

    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)

    const sortColumn = storageModule.getSort()
    doSort(sortColumn, true)
}

module.exports = {
    doFilter,
    doInitFilter,
}

},{"./datamanager.js":1,"./sort.js":7,"./storage.js":8}],4:[function(require,module,exports){
const { redraw, bindEvents, renderStatic } = require('./main.js')
const { doInitFilter } = require('./filter.js')
const { doInitSort } = require('./sort.js')
const { manager } = require('./datamanager.js')
const data = JSON.parse(document.getElementById('data-container').dataset.jsonblob)

function init() {
    manager.setManager(data)
    doInitFilter()
    doInitSort()
    renderStatic()
    redraw()
    bindEvents()
}

init()

},{"./datamanager.js":1,"./filter.js":3,"./main.js":5,"./sort.js":7}],5:[function(require,module,exports){
const { dom, find, findAll } = require('./dom.js')
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const { doFilter } = require('./filter.js')
const {
    getVisible,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    getSortDirection,
    possibleFilters,
} = require('./storage.js')

const removeChildren = (node) => {
    while (node.firstChild) {
        node.removeChild(node.firstChild)
    }
}

const renderStatic = () => {
    const renderEnvironmentTable = () => {
        const environment = manager.environment
        const rows = Object.keys(environment).map((key) => dom.getStaticRow(key, environment[key]))
        const table = document.getElementById('environment')
        removeChildren(table)
        rows.forEach((row) => table.appendChild(row))
    }
    renderEnvironmentTable()
}

const addItemToggleListener = (elem) => {
    elem.addEventListener('click', ({ target }) => {
        const id = target.parentElement.dataset.id
        manager.toggleCollapsedItem(id)

        const collapsedIds = getCollapsedIds()
        if (collapsedIds.includes(id)) {
            const updated = collapsedIds.filter((item) => item !== id)
            setCollapsedIds(updated)
        } else {
            collapsedIds.push(id)
            setCollapsedIds(collapsedIds)
        }
        redraw()
    })
}

const renderContent = (tests) => {
    const sortAttr = getSort(manager.initialSort)
    const sortAsc = JSON.parse(getSortDirection())
    const rows = tests.map(dom.getResultTBody)
    const table = document.getElementById('results-table')
    const tableHeader = document.getElementById('results-table-head')

    const newTable = document.createElement('table')
    newTable.id = 'results-table'

    // remove all sorting classes and set the relevant
    findAll('.sortable', tableHeader).forEach((elem) => elem.classList.remove('asc', 'desc'))
    tableHeader.querySelector(`.sortable[data-column-type="${sortAttr}"]`)?.classList.add(sortAsc ? 'desc' : 'asc')
    newTable.appendChild(tableHeader)

    if (!rows.length) {
        const emptyTable = document.getElementById('template_results-table__body--empty').content.cloneNode(true)
        newTable.appendChild(emptyTable)
    } else {
        rows.forEach((row) => {
            if (!!row) {
                findAll('.collapsible td:not(.col-links', row).forEach(addItemToggleListener)
                find('.logexpander', row).addEventListener('click',
                    (evt) => evt.target.parentNode.classList.toggle('expanded'),
                )
                newTable.appendChild(row)
            }
        })
    }

    table.replaceWith(newTable)
}

const renderDerived = () => {
    const currentFilter = getVisible()
    possibleFilters.forEach((result) => {
        const input = document.querySelector(`input[data-test-result="${result}"]`)
        input.checked = currentFilter.includes(result)
    })
}

const bindEvents = () => {
    const filterColumn = (evt) => {
        const { target: element } = evt
        const { testResult } = element.dataset

        doFilter(testResult, element.checked)
        const collapsedIds = getCollapsedIds()
        const updated = manager.renderData.tests.map((test) => {
            return {
                ...test,
                collapsed: collapsedIds.includes(test.id),
            }
        })
        manager.setRender(updated)
        redraw()
    }

    const header = document.getElementById('environment-header')
    header.addEventListener('click', () => {
        const table = document.getElementById('environment')
        table.classList.toggle('hidden')
        header.classList.toggle('collapsed')
    })

    findAll('input[name="filter_checkbox"]').forEach((elem) => {
        elem.addEventListener('click', filterColumn)
    })

    findAll('.sortable').forEach((elem) => {
        elem.addEventListener('click', (evt) => {
            const { target: element } = evt
            const { columnType } = element.dataset
            doSort(columnType)
            redraw()
        })
    })

    document.getElementById('show_all_details').addEventListener('click', () => {
        manager.allCollapsed = false
        setCollapsedIds([])
        redraw()
    })
    document.getElementById('hide_all_details').addEventListener('click', () => {
        manager.allCollapsed = true
        const allIds = manager.renderData.tests.map((test) => test.id)
        setCollapsedIds(allIds)
        redraw()
    })
}

const redraw = () => {
    const { testSubset } = manager

    renderContent(testSubset)
    renderDerived()
}

module.exports = {
    redraw,
    bindEvents,
    renderStatic,
}

},{"./datamanager.js":1,"./dom.js":2,"./filter.js":3,"./sort.js":7,"./storage.js":8}],6:[function(require,module,exports){
class MediaViewer {
    constructor(assets) {
        this.assets = assets
        this.index = 0
    }

    nextActive() {
        this.index = this.index === this.assets.length - 1 ? 0 : this.index + 1
        return [this.activeFile, this.index]
    }

    prevActive() {
        this.index = this.index === 0 ? this.assets.length - 1 : this.index -1
        return [this.activeFile, this.index]
    }

    get currentIndex() {
        return this.index
    }

    get activeFile() {
        return this.assets[this.index]
    }
}


const setup = (resultBody, assets) => {
    if (!assets.length) {
        resultBody.querySelector('.media').classList.add('hidden')
        return
    }

    const mediaViewer = new MediaViewer(assets)
    const container = resultBody.querySelector('.media-container')
    const leftArrow = resultBody.querySelector('.media-container__nav--left')
    const rightArrow = resultBody.querySelector('.media-container__nav--right')
    const mediaName = resultBody.querySelector('.media__name')
    const counter = resultBody.querySelector('.media__counter')
    const imageEl = resultBody.querySelector('img')
    const sourceEl = resultBody.querySelector('source')
    const videoEl = resultBody.querySelector('video')

    const setImg = (media, index) => {
        if (media?.format_type === 'image') {
            imageEl.src = media.path

            imageEl.classList.remove('hidden')
            videoEl.classList.add('hidden')
        } else if (media?.format_type === 'video') {
            sourceEl.src = media.path

            videoEl.classList.remove('hidden')
            imageEl.classList.add('hidden')
        }

        mediaName.innerText = media?.name
        counter.innerText = `${index + 1} / ${assets.length}`
    }
    setImg(mediaViewer.activeFile, mediaViewer.currentIndex)

    const moveLeft = () => {
        const [media, index] = mediaViewer.prevActive()
        setImg(media, index)
    }
    const doRight = () => {
        const [media, index] = mediaViewer.nextActive()
        setImg(media, index)
    }
    const openImg = () => {
        window.open(mediaViewer.activeFile.path, '_blank')
    }
    if (assets.length === 1) {
        container.classList.add('media-container--fullscreen')
    } else {
        leftArrow.addEventListener('click', moveLeft)
        rightArrow.addEventListener('click', doRight)
    }
    imageEl.addEventListener('click', openImg)
}

module.exports = {
    setup,
}

},{}],7:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const storageModule = require('./storage.js')

const genericSort = (list, key, ascending, customOrder) => {
    let sorted
    if (customOrder) {
        sorted = list.sort((a, b) => {
            const aValue = a.result.toLowerCase()
            const bValue = b.result.toLowerCase()

            const aIndex = customOrder.findIndex((item) => item.toLowerCase() === aValue)
            const bIndex = customOrder.findIndex((item) => item.toLowerCase() === bValue)

            // Compare the indices to determine the sort order
            return aIndex - bIndex
        })
    } else {
        sorted = list.sort((a, b) => a[key] === b[key] ? 0 : a[key] > b[key] ? 1 : -1)
    }

    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const durationSort = (list, ascending) => {
    const parseDuration = (duration) => {
        if (duration.includes(':')) {
            // If it's in the format "HH:mm:ss"
            const [hours, minutes, seconds] = duration.split(':').map(Number)
            return (hours * 3600 + minutes * 60 + seconds) * 1000
        } else {
            // If it's in the format "nnn ms"
            return parseInt(duration)
        }
    }
    const sorted = list.sort((a, b) => parseDuration(a['duration']) - parseDuration(b['duration']))
    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const doInitSort = () => {
    const type = storageModule.getSort(manager.initialSort)
    const ascending = storageModule.getSortDirection()
    const list = manager.testSubset
    const initialOrder = ['Error', 'Failed', 'Rerun', 'XFailed', 'XPassed', 'Skipped', 'Passed']

    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    if (type?.toLowerCase() === 'original') {
        manager.setRender(list)
    } else {
        let sortedList
        switch (type) {
        case 'duration':
            sortedList = durationSort(list, ascending)
            break
        case 'result':
            sortedList = genericSort(list, type, ascending, initialOrder)
            break
        default:
            sortedList = genericSort(list, type, ascending)
            break
        }
        manager.setRender(sortedList)
    }
}

const doSort = (type, skipDirection) => {
    const newSortType = storageModule.getSort(manager.initialSort) !== type
    const currentAsc = storageModule.getSortDirection()
    let ascending
    if (skipDirection) {
        ascending = currentAsc
    } else {
        ascending = newSortType ? false : !currentAsc
    }
    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    const list = manager.testSubset
    const sortedList = type === 'duration' ? durationSort(list, ascending) : genericSort(list, type, ascending)
    manager.setRender(sortedList)
}

module.exports = {
    doInitSort,
    doSort,
}

},{"./datamanager.js":1,"./storage.js":8}],8:[function(require,module,exports){
const possibleFilters = [
    'passed',
    'skipped',
    'failed',
    'error',
    'xfailed',
    'xpassed',
    'rerun',
]

const getVisible = () => {
    const url = new URL(window.location.href)
    const settings = new URLSearchParams(url.search).get('visible')
    const lower = (item) => {
        const lowerItem = item.toLowerCase()
        if (possibleFilters.includes(lowerItem)) {
            return lowerItem
        }
        return null
    }
    return settings === null ?
        possibleFilters :
        [...new Set(settings?.split(',').map(lower).filter((item) => item))]
}

const hideCategory = (categoryToHide) => {
    const url = new URL(window.location.href)
    const visibleParams = new URLSearchParams(url.search).get('visible')
    const currentVisible = visibleParams ? visibleParams.split(',') : [...possibleFilters]
    const settings = [...new Set(currentVisible)].filter((f) => f !== categoryToHide).join(',')

    url.searchParams.set('visible', settings)
    window.history.pushState({}, null, unescape(url.href))
}

const showCategory = (categoryToShow) => {
    if (typeof window === 'undefined') {
        return
    }
    const url = new URL(window.location.href)
    const currentVisible = new URLSearchParams(url.search).get('visible')?.split(',').filter(Boolean) ||
        [...possibleFilters]
    const settings = [...new Set([categoryToShow, ...currentVisible])]
    const noFilter = possibleFilters.length === settings.length || !settings.length

    noFilter ? url.searchParams.delete('visible') : url.searchParams.set('visible', settings.join(','))
    window.history.pushState({}, null, unescape(url.href))
}

const getSort = (initialSort) => {
    const url = new URL(window.location.href)
    let sort = new URLSearchParams(url.search).get('sort')
    if (!sort) {
        sort = initialSort || 'result'
    }
    return sort
}

const setSort = (type) => {
    const url = new URL(window.location.href)
    url.searchParams.set('sort', type)
    window.history.pushState({}, null, unescape(url.href))
}

const getCollapsedCategory = (renderCollapsed) => {
    let categories
    if (typeof window !== 'undefined') {
        const url = new URL(window.location.href)
        const collapsedItems = new URLSearchParams(url.search).get('collapsed')
        switch (true) {
        case !renderCollapsed && collapsedItems === null:
            categories = ['passed']
            break
        case collapsedItems?.length === 0 || /^["']{2}$/.test(collapsedItems):
            categories = []
            break
        case /^all$/.test(collapsedItems) || collapsedItems === null && /^all$/.test(renderCollapsed):
            categories = [...possibleFilters]
            break
        default:
            categories = collapsedItems?.split(',').map((item) => item.toLowerCase()) || renderCollapsed
            break
        }
    } else {
        categories = []
    }
    return categories
}

const getSortDirection = () => JSON.parse(sessionStorage.getItem('sortAsc')) || false
const setSortDirection = (ascending) => sessionStorage.setItem('sortAsc', ascending)

const getCollapsedIds = () => JSON.parse(sessionStorage.getItem('collapsedIds')) || []
const setCollapsedIds = (list) => sessionStorage.setItem('collapsedIds', JSON.stringify(list))

module.exports = {
    getVisible,
    hideCategory,
    showCategory,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    setSort,
    getSortDirection,
    setSortDirection,
    getCollapsedCategory,
    possibleFilters,
}

},{}]},{},[4]);
    </script>
  </footer>
</html>